webpackJsonp([3],{"+qHy":function(t,e){},Gmit:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),n=s.n(i),r=s("TYYd"),a=s("GQaK"),o=s("3Q4o"),l={data:function(){return{dots:[],currentPageIndex:0}},props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:2e3},theDots:{type:Boolean,default:!0}},mounted:function(){var t=this;setTimeout(function(){t._setSliderWidth(),t._initDots(),t._initSlider(),t.autoPlay&&t._play()},20),window.addEventListener("resize",function(){t.slider&&(t._setSliderWidth(!0),t.slider.refresh())})},methods:{_setSliderWidth:function(t){this.children=this.$refs.sliderGroup.children;for(var e=0,s=this.$refs.slider.clientWidth,i=0;i<this.children.length;i++){var n=this.children[i];Object(o.a)(n,"slider-item"),n.style.width=s+"px",e+=s}this.loop&&!t&&(e+=2*s),this.$refs.sliderGroup.style.width=e+"px"},_initDots:function(){this.dots=new Array(this.children.length)},_initSlider:function(){var t=this;this.slider=new a.a(this.$refs.slider,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:.3,speed:400}}),this.slider.on("scrollEnd",function(){var e=t.slider.getCurrentPage().pageX;t.currentPageIndex=e,t.autoPlay&&(clearTimeout(t.timer),t._play())})},_play:function(){var t=this;this.currentPageIndex;this.timer=setTimeout(function(){t.slider.next(400)},this.interval)}},computed:{showDots:function(){return this.theDots}},destroyed:function(){clearTimeout(this.timer)}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"slider",staticClass:"slider"},[s("div",{ref:"sliderGroup",staticClass:"slider-group"},[t._t("default")],2),t._v(" "),t.showDots?s("div",{staticClass:"dots"},t._l(t.dots,function(e,i){return s("span",{staticClass:"dot",class:{active:t.currentPageIndex===i}})})):t._e()])},staticRenderFns:[]};var d=s("VU/8")(l,c,!1,function(t){s("+qHy")},null,null).exports,u=s("qwAB"),h=s("y/jF"),f=s("vDJJ"),p=s("NYxO"),w=s("nniE"),v={data:function(){return{hotSpot:[],allNews:[],pullup:!0,offset:0,commonUrl:"http://m.toutiao.com"}},created:function(){this._getRollNews(),console.log(this.hotSpot),this._getAllNews()},methods:n()({loadImage:function(){this.loadchecked||(this.$refs.scroll.refresh(),this.loadchecked=!0)},selectNews:function(t){this.$router.push({path:"/news/"+t.group_id}),this.setNews(t)},searchMore:function(){var t=this;this.offset+=10,Object(r.a)(this.offset).then(function(e){t.allNews=t.allNews.concat(e.data)}),this.$refs.tip.show()},_getRollNews:function(){var t=this;Object(r.c)().then(function(e){"success"===e.message&&(t.hotSpot=e.data.pc_feed_focus,console.log(t.hotSpot))})},_getAllNews:function(){var t=this;this.offset=0,Object(r.a)(this.offset).then(function(e){t.allNews=e.data})}},Object(p.d)({setNews:"SET_NEWS"})),components:{Slider:d,NewsList:f.a,Scroll:u.a,Loading:h.a,Tip:w.a}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"news"},[s("scroll",{ref:"scroll",staticClass:"news-content",attrs:{data:t.allNews,pullup:t.pullup},on:{scrollToEnd:t.searchMore}},[s("div",[t.hotSpot.length?s("div",{staticClass:"swiper-wrapper"},[s("slider",{attrs:{theDots:!1}},t._l(t.hotSpot,function(e){return s("div",[s("div",{staticClass:"title-wrapper"},[s("h1",{staticClass:"title"},[s("a",{attrs:{href:t.commonUrl+e.display_url}},[t._v("\n                                    "+t._s(e.title)+"\n                                ")])])]),t._v(" "),s("img",{attrs:{src:e.image_url},on:{load:t.loadImage}})])}))],1):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.allNews.length,expression:"allNews.length"}],staticClass:"news-wrapper"},[s("news-list",{attrs:{allNews:t.allNews},on:{select:t.selectNews}})],1)])]),t._v(" "),s("tip",{ref:"tip"},[s("p",[t._v("已为您加载热门新闻")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.allNews.length,expression:"!allNews.length"}],staticClass:"loading-container"},[s("loading")],1),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var m=s("VU/8")(v,_,!1,function(t){s("euQE")},null,null);e.default=m.exports},TYYd:function(t,e,s){"use strict";e.c=function(){return l.a.get("/api/getRollNews").then(function(t){return a.a.resolve(t.data)})},e.a=function(t){var e=parseInt((new Date).getTime()/1e3),s=n()({},{offset:t,tag:"news_hot",ac:"wap",count:10,format:"json_raw",as:"A17538D54D106FF",cp:"585DF0A65F0F1E1",min_behot_time:e,i:e});return l.a.get("/api/list/",{params:s}).then(function(t){return a.a.resolve(t.data)})},e.b=function(t){var e="/api/i"+t+"/info/",s=n()({},{i:t});return l.a.get(e,{params:s}).then(function(t){return a.a.resolve(t.data)})};var i=s("woOf"),n=s.n(i),r=s("//Fk"),a=s.n(r),o=s("mtWM"),l=s.n(o)},euQE:function(t,e){}});
//# sourceMappingURL=3.6965319eab253121ef49.js.map